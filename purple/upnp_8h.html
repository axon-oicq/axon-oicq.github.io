<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: upnp.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">upnp.h File Reference<div class="ingroups"><a class="el" href="group__core.html">libpurple</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><a href="upnp_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4dac448e583a7b51995c24b996c9ea48"><td class="memItemLeft" align="right" valign="top"><a id="a4dac448e583a7b51995c24b996c9ea48" name="a4dac448e583a7b51995c24b996c9ea48"></a>
typedef struct <a class="el" href="struct__UPnPMappingAddRemove.html">_UPnPMappingAddRemove</a>&#160;</td><td class="memItemRight" valign="bottom"><b>UPnPMappingAddRemove</b></td></tr>
<tr class="separator:a4dac448e583a7b51995c24b996c9ea48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">UPnP API &lt;br&gt;</h2></td></tr>
<tr class="memitem:a14df1b07a78d26431a0ffe43a63af16b"><td class="memItemLeft" align="right" valign="top"><a id="a14df1b07a78d26431a0ffe43a63af16b" name="a14df1b07a78d26431a0ffe43a63af16b"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>PurpleUPnPCallback</b>) (gboolean success, gpointer data)</td></tr>
<tr class="separator:a14df1b07a78d26431a0ffe43a63af16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6315e13aa2e9e284b37ba5cc19225bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8h.html#ac6315e13aa2e9e284b37ba5cc19225bc">purple_upnp_init</a> (void)</td></tr>
<tr class="separator:ac6315e13aa2e9e284b37ba5cc19225bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a4ba88ba568cf8cb1115b4b787a8f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8h.html#a42a4ba88ba568cf8cb1115b4b787a8f1">purple_upnp_discover</a> (PurpleUPnPCallback cb, gpointer cb_data)</td></tr>
<tr class="separator:a42a4ba88ba568cf8cb1115b4b787a8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8eba264e57f43f3367f16823396f9ce"><td class="memItemLeft" align="right" valign="top">const gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8h.html#ae8eba264e57f43f3367f16823396f9ce">purple_upnp_get_public_ip</a> (void)</td></tr>
<tr class="separator:ae8eba264e57f43f3367f16823396f9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0dc9ded8e1338af9e31637e75e18e8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8h.html#ad0dc9ded8e1338af9e31637e75e18e8f">purple_upnp_cancel_port_mapping</a> (<a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *mapping_data)</td></tr>
<tr class="separator:ad0dc9ded8e1338af9e31637e75e18e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163fc71eb4f618a41f586b50671e35e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8h.html#a163fc71eb4f618a41f586b50671e35e7">purple_upnp_set_port_mapping</a> (unsigned short portmap, const gchar *protocol, PurpleUPnPCallback cb, gpointer cb_data)</td></tr>
<tr class="separator:a163fc71eb4f618a41f586b50671e35e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa811f67bd59e27ff68e4ad2bd3b5e75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8h.html#aaa811f67bd59e27ff68e4ad2bd3b5e75">purple_upnp_remove_port_mapping</a> (unsigned short portmap, const gchar *protocol, PurpleUPnPCallback cb, gpointer cb_data)</td></tr>
<tr class="separator:aaa811f67bd59e27ff68e4ad2bd3b5e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Universal Plug N Play API </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad0dc9ded8e1338af9e31637e75e18e8f" name="ad0dc9ded8e1338af9e31637e75e18e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0dc9ded8e1338af9e31637e75e18e8f">&#9670;&nbsp;</a></span>purple_upnp_cancel_port_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_upnp_cancel_port_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *&#160;</td>
          <td class="paramname"><em>mapping_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cancel a pending port mapping request initiated with either <a class="el" href="upnp_8h.html#a163fc71eb4f618a41f586b50671e35e7">purple_upnp_set_port_mapping()</a> or <a class="el" href="upnp_8h.html#aaa811f67bd59e27ff68e4ad2bd3b5e75">purple_upnp_remove_port_mapping()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapping_data</td><td>The data returned when you initiated the UPnP mapping request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42a4ba88ba568cf8cb1115b4b787a8f1" name="a42a4ba88ba568cf8cb1115b4b787a8f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a4ba88ba568cf8cb1115b4b787a8f1">&#9670;&nbsp;</a></span>purple_upnp_discover()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_upnp_discover </td>
          <td>(</td>
          <td class="paramtype">PurpleUPnPCallback&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sends a discovery request to search for a UPnP enabled IGD that contains the WANIPConnection service that will allow us to recieve the public IP address of the IGD, and control it for forwarding ports. The result will be cached for further use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>an optional callback function to be notified when the UPnP discovery is complete </td></tr>
    <tr><td class="paramname">cb_data</td><td>Extra data to be passed to the callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae8eba264e57f43f3367f16823396f9ce" name="ae8eba264e57f43f3367f16823396f9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8eba264e57f43f3367f16823396f9ce">&#9670;&nbsp;</a></span>purple_upnp_get_public_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const gchar * purple_upnp_get_public_ip </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Gets the IP address from a UPnP enabled IGD that sits on the local network, so when getting the network IP, instead of returning the local network IP, the public IP is retrieved. This is a cached value from the time of the UPnP discovery.</p>
<dl class="section return"><dt>Returns</dt><dd>The IP address of the network, or NULL if something went wrong </dd></dl>

</div>
</div>
<a id="ac6315e13aa2e9e284b37ba5cc19225bc" name="ac6315e13aa2e9e284b37ba5cc19225bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6315e13aa2e9e284b37ba5cc19225bc">&#9670;&nbsp;</a></span>purple_upnp_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_upnp_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize UPnP </p>

</div>
</div>
<a id="aaa811f67bd59e27ff68e4ad2bd3b5e75" name="aaa811f67bd59e27ff68e4ad2bd3b5e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa811f67bd59e27ff68e4ad2bd3b5e75">&#9670;&nbsp;</a></span>purple_upnp_remove_port_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> * purple_upnp_remove_port_mapping </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>portmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PurpleUPnPCallback&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Deletes a port mapping in a UPnP enabled IGD that sits on the local network to this purple client. Essentially, this function takes care of deleting the port forwarding after they have completed a connection so another client on the local network can take advantage of the port forwarding</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">portmap</td><td>The port to delete the mapping for </td></tr>
    <tr><td class="paramname">protocol</td><td>The protocol to map to. Either "TCP" or "UDP" </td></tr>
    <tr><td class="paramname">cb</td><td>an optional callback function to be notified when the mapping removal is complete </td></tr>
    <tr><td class="paramname">cb_data</td><td>Extra data to be passed to the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data which can be passed to purple_upnp_port_mapping_cancel() to cancel </dd></dl>

</div>
</div>
<a id="a163fc71eb4f618a41f586b50671e35e7" name="a163fc71eb4f618a41f586b50671e35e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163fc71eb4f618a41f586b50671e35e7">&#9670;&nbsp;</a></span>purple_upnp_set_port_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> * purple_upnp_set_port_mapping </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>portmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PurpleUPnPCallback&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Maps Ports in a UPnP enabled IGD that sits on the local network to this purple client. Essentially, this function takes care of the port forwarding so things like file transfers can work behind NAT firewalls</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">portmap</td><td>The port to map to this client </td></tr>
    <tr><td class="paramname">protocol</td><td>The protocol to map, either "TCP" or "UDP" </td></tr>
    <tr><td class="paramname">cb</td><td>an optional callback function to be notified when the mapping addition is complete </td></tr>
    <tr><td class="paramname">cb_data</td><td>Extra data to be passed to the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data which can be passed to purple_upnp_port_mapping_cancel() to cancel </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
