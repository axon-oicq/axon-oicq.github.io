<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: upnp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">upnp.c File Reference<div class="ingroups"><a class="el" href="group__core.html">libpurple</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="internal_8h_source.html">internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="upnp_8h_source.html">upnp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eventloop_8h_source.html">eventloop.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="network_8h_source.html">network.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="proxy_8h_source.html">proxy.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="signals_8h_source.html">signals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xmlnode_8h_source.html">xmlnode.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPurpleUPnPControlInfo.html">PurpleUPnPControlInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUPnPDiscoveryData.html">UPnPDiscoveryData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__UPnPMappingAddRemove.html">_UPnPMappingAddRemove</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a02e6d59009dee759528ec81fc9a8eeff"><td class="memItemLeft" align="right" valign="top"><a id="a02e6d59009dee759528ec81fc9a8eeff" name="a02e6d59009dee759528ec81fc9a8eeff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HTTP_OK</b>&#160;&#160;&#160;&quot;200 OK&quot;</td></tr>
<tr class="separator:a02e6d59009dee759528ec81fc9a8eeff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc476b8e19df2e50e6759f1832030a7b"><td class="memItemLeft" align="right" valign="top"><a id="abc476b8e19df2e50e6759f1832030a7b" name="abc476b8e19df2e50e6759f1832030a7b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_HTTP_PORT</b>&#160;&#160;&#160;80</td></tr>
<tr class="separator:abc476b8e19df2e50e6759f1832030a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37d676223c2f4bce9a8f0fd24599979"><td class="memItemLeft" align="right" valign="top"><a id="ae37d676223c2f4bce9a8f0fd24599979" name="ae37d676223c2f4bce9a8f0fd24599979"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DISCOVERY_TIMEOUT</b>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:ae37d676223c2f4bce9a8f0fd24599979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfef29f3c06e92de1766a93f4443033"><td class="memItemLeft" align="right" valign="top"><a id="a1bfef29f3c06e92de1766a93f4443033" name="a1bfef29f3c06e92de1766a93f4443033"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_UPNP_DOWNLOAD</b>&#160;&#160;&#160;(128 * 1024)</td></tr>
<tr class="separator:a1bfef29f3c06e92de1766a93f4443033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e75209dc676838122b049fcc397c13"><td class="memItemLeft" align="right" valign="top"><a id="ac1e75209dc676838122b049fcc397c13" name="ac1e75209dc676838122b049fcc397c13"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_UDP_ATTEMPTS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ac1e75209dc676838122b049fcc397c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14695a5aa0c9e3794761504676914f11"><td class="memItemLeft" align="right" valign="top"><a id="a14695a5aa0c9e3794761504676914f11" name="a14695a5aa0c9e3794761504676914f11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HTTPMU_HOST_ADDRESS</b>&#160;&#160;&#160;&quot;239.255.255.250&quot;</td></tr>
<tr class="separator:a14695a5aa0c9e3794761504676914f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01892b00edb0cce317934ae21d47164"><td class="memItemLeft" align="right" valign="top"><a id="af01892b00edb0cce317934ae21d47164" name="af01892b00edb0cce317934ae21d47164"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HTTPMU_HOST_PORT</b>&#160;&#160;&#160;1900</td></tr>
<tr class="separator:af01892b00edb0cce317934ae21d47164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8792c12676ad6f5e877499b2b7a85695"><td class="memItemLeft" align="right" valign="top"><a id="a8792c12676ad6f5e877499b2b7a85695" name="a8792c12676ad6f5e877499b2b7a85695"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEARCH_REQUEST_DEVICE</b>&#160;&#160;&#160;&quot;urn:schemas-upnp-org:service:%s&quot;</td></tr>
<tr class="separator:a8792c12676ad6f5e877499b2b7a85695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926a5dbce75994e2d9b7273b643d0793"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a926a5dbce75994e2d9b7273b643d0793">SEARCH_REQUEST_STRING</a></td></tr>
<tr class="separator:a926a5dbce75994e2d9b7273b643d0793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc246389d12567d4eba3d9677c66e0bb"><td class="memItemLeft" align="right" valign="top"><a id="adc246389d12567d4eba3d9677c66e0bb" name="adc246389d12567d4eba3d9677c66e0bb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WAN_IP_CONN_SERVICE</b>&#160;&#160;&#160;&quot;WANIPConnection:1&quot;</td></tr>
<tr class="separator:adc246389d12567d4eba3d9677c66e0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09aa251b9ea7e59da3946680e4c9b13d"><td class="memItemLeft" align="right" valign="top"><a id="a09aa251b9ea7e59da3946680e4c9b13d" name="a09aa251b9ea7e59da3946680e4c9b13d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WAN_PPP_CONN_SERVICE</b>&#160;&#160;&#160;&quot;WANPPPConnection:1&quot;</td></tr>
<tr class="separator:a09aa251b9ea7e59da3946680e4c9b13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef37e7508f3cb712bf7f30b4b94d56b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a4ef37e7508f3cb712bf7f30b4b94d56b">HTTP_HEADER_ACTION</a></td></tr>
<tr class="separator:a4ef37e7508f3cb712bf7f30b4b94d56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d7e75b73ef9ff9fd893ef348d26df4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a31d7e75b73ef9ff9fd893ef348d26df4">SOAP_ACTION</a></td></tr>
<tr class="separator:a31d7e75b73ef9ff9fd893ef348d26df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d8000815a14f7cf2714242fd2778bb"><td class="memItemLeft" align="right" valign="top"><a id="a08d8000815a14f7cf2714242fd2778bb" name="a08d8000815a14f7cf2714242fd2778bb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PORT_MAPPING_LEASE_TIME</b>&#160;&#160;&#160;&quot;0&quot;</td></tr>
<tr class="separator:a08d8000815a14f7cf2714242fd2778bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10a4e853bc67b642f7fd342737c0e52"><td class="memItemLeft" align="right" valign="top"><a id="ae10a4e853bc67b642f7fd342737c0e52" name="ae10a4e853bc67b642f7fd342737c0e52"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PORT_MAPPING_DESCRIPTION</b>&#160;&#160;&#160;&quot;PURPLE_UPNP_PORT_FORWARD&quot;</td></tr>
<tr class="separator:ae10a4e853bc67b642f7fd342737c0e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab7dee0fcfe92817fb5757cc4572049"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a4ab7dee0fcfe92817fb5757cc4572049">ADD_PORT_MAPPING_PARAMS</a></td></tr>
<tr class="separator:a4ab7dee0fcfe92817fb5757cc4572049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28dc5fc887a1fc10409b44f516ea1dbc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a28dc5fc887a1fc10409b44f516ea1dbc">DELETE_PORT_MAPPING_PARAMS</a></td></tr>
<tr class="separator:a28dc5fc887a1fc10409b44f516ea1dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a82aab0c406e0c05b36d67a702803c3cd"><td class="memItemLeft" align="right" valign="top"><a id="a82aab0c406e0c05b36d67a702803c3cd" name="a82aab0c406e0c05b36d67a702803c3cd"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>PurpleUPnPStatus</b> { <b>PURPLE_UPNP_STATUS_UNDISCOVERED</b> = -1
, <b>PURPLE_UPNP_STATUS_UNABLE_TO_DISCOVER</b>
, <b>PURPLE_UPNP_STATUS_DISCOVERING</b>
, <b>PURPLE_UPNP_STATUS_DISCOVERED</b>
 }</td></tr>
<tr class="separator:a82aab0c406e0c05b36d67a702803c3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a42a4ba88ba568cf8cb1115b4b787a8f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a42a4ba88ba568cf8cb1115b4b787a8f1">purple_upnp_discover</a> (PurpleUPnPCallback cb, gpointer cb_data)</td></tr>
<tr class="separator:a42a4ba88ba568cf8cb1115b4b787a8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80752da1dbd0157304d032b688b54dbc"><td class="memItemLeft" align="right" valign="top">const gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a80752da1dbd0157304d032b688b54dbc">purple_upnp_get_public_ip</a> ()</td></tr>
<tr class="separator:a80752da1dbd0157304d032b688b54dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4264a7198a10938b2ee5c61be737447"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#ab4264a7198a10938b2ee5c61be737447">purple_upnp_cancel_port_mapping</a> (<a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *ar)</td></tr>
<tr class="separator:ab4264a7198a10938b2ee5c61be737447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163fc71eb4f618a41f586b50671e35e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a163fc71eb4f618a41f586b50671e35e7">purple_upnp_set_port_mapping</a> (unsigned short portmap, const gchar *protocol, PurpleUPnPCallback cb, gpointer cb_data)</td></tr>
<tr class="separator:a163fc71eb4f618a41f586b50671e35e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df92dba7c8891a88d07b13b5a1c304c"><td class="memItemLeft" align="right" valign="top"><a id="a8df92dba7c8891a88d07b13b5a1c304c" name="a8df92dba7c8891a88d07b13b5a1c304c"></a>
<a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>purple_upnp_remove_port_mapping</b> (unsigned short portmap, const char *protocol, PurpleUPnPCallback cb, gpointer cb_data)</td></tr>
<tr class="separator:a8df92dba7c8891a88d07b13b5a1c304c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7653636b1566c48d774ede5c76502454"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upnp_8c.html#a7653636b1566c48d774ede5c76502454">purple_upnp_init</a> ()</td></tr>
<tr class="separator:a7653636b1566c48d774ede5c76502454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >UPnP Implementation </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4ab7dee0fcfe92817fb5757cc4572049" name="a4ab7dee0fcfe92817fb5757cc4572049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ab7dee0fcfe92817fb5757cc4572049">&#9670;&nbsp;</a></span>ADD_PORT_MAPPING_PARAMS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADD_PORT_MAPPING_PARAMS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="stringliteral">&quot;&lt;NewRemoteHost&gt;&lt;/NewRemoteHost&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewExternalPort&gt;%i&lt;/NewExternalPort&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewProtocol&gt;%s&lt;/NewProtocol&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewInternalPort&gt;%i&lt;/NewInternalPort&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewInternalClient&gt;%s&lt;/NewInternalClient&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewEnabled&gt;1&lt;/NewEnabled&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewPortMappingDescription&gt;&quot;</span> \</div>
<div class="line">    PORT_MAPPING_DESCRIPTION \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;/NewPortMappingDescription&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewLeaseDuration&gt;&quot;</span> \</div>
<div class="line">    PORT_MAPPING_LEASE_TIME \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;/NewLeaseDuration&gt;\r\n&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28dc5fc887a1fc10409b44f516ea1dbc" name="a28dc5fc887a1fc10409b44f516ea1dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28dc5fc887a1fc10409b44f516ea1dbc">&#9670;&nbsp;</a></span>DELETE_PORT_MAPPING_PARAMS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DELETE_PORT_MAPPING_PARAMS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="stringliteral">&quot;&lt;NewRemoteHost&gt;&lt;/NewRemoteHost&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewExternalPort&gt;%i&lt;/NewExternalPort&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;NewProtocol&gt;%s&lt;/NewProtocol&gt;\r\n&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ef37e7508f3cb712bf7f30b4b94d56b" name="a4ef37e7508f3cb712bf7f30b4b94d56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef37e7508f3cb712bf7f30b4b94d56b">&#9670;&nbsp;</a></span>HTTP_HEADER_ACTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_HEADER_ACTION</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="stringliteral">&quot;POST /%s HTTP/1.1\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;HOST: %s:%d\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;SOAPACTION: \&quot;urn:schemas-upnp-org:service:%s#%s\&quot;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;CONTENT-TYPE: text/xml ; charset=\&quot;utf-8\&quot;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;CONTENT-LENGTH: %&quot;</span> G_GSIZE_FORMAT <span class="stringliteral">&quot;\r\n\r\n&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a926a5dbce75994e2d9b7273b643d0793" name="a926a5dbce75994e2d9b7273b643d0793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a926a5dbce75994e2d9b7273b643d0793">&#9670;&nbsp;</a></span>SEARCH_REQUEST_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEARCH_REQUEST_STRING</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="stringliteral">&quot;M-SEARCH * HTTP/1.1\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;MX: 2\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;HOST: 239.255.255.250:1900\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;MAN: \&quot;ssdp:discover\&quot;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;ST: urn:schemas-upnp-org:service:%s\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;\r\n&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31d7e75b73ef9ff9fd893ef348d26df4" name="a31d7e75b73ef9ff9fd893ef348d26df4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d7e75b73ef9ff9fd893ef348d26df4">&#9670;&nbsp;</a></span>SOAP_ACTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOAP_ACTION</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;s:Envelope xmlns:s=\&quot;http://schemas.xmlsoap.org/soap/envelope/\&quot; &quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;s:encodingStyle=\&quot;http://schemas.xmlsoap.org/soap/encoding/\&quot;&gt;\r\n&quot;</span> \</div>
<div class="line">      <span class="stringliteral">&quot;&lt;s:Body&gt;\r\n&quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;&lt;u:%s xmlns:u=\&quot;urn:schemas-upnp-org:service:%s\&quot;&gt;\r\n&quot;</span> \</div>
<div class="line">          <span class="stringliteral">&quot;%s&quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;&lt;/u:%s&gt;\r\n&quot;</span> \</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/s:Body&gt;\r\n&quot;</span> \</div>
<div class="line">    <span class="stringliteral">&quot;&lt;/s:Envelope&gt;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab4264a7198a10938b2ee5c61be737447" name="ab4264a7198a10938b2ee5c61be737447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4264a7198a10938b2ee5c61be737447">&#9670;&nbsp;</a></span>purple_upnp_cancel_port_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_upnp_cancel_port_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> *&#160;</td>
          <td class="paramname"><em>mapping_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cancel a pending port mapping request initiated with either <a class="el" href="upnp_8h.html#a163fc71eb4f618a41f586b50671e35e7">purple_upnp_set_port_mapping()</a> or <a class="el" href="upnp_8h.html#aaa811f67bd59e27ff68e4ad2bd3b5e75">purple_upnp_remove_port_mapping()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapping_data</td><td>The data returned when you initiated the UPnP mapping request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42a4ba88ba568cf8cb1115b4b787a8f1" name="a42a4ba88ba568cf8cb1115b4b787a8f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a4ba88ba568cf8cb1115b4b787a8f1">&#9670;&nbsp;</a></span>purple_upnp_discover()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_upnp_discover </td>
          <td>(</td>
          <td class="paramtype">PurpleUPnPCallback&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sends a discovery request to search for a UPnP enabled IGD that contains the WANIPConnection service that will allow us to recieve the public IP address of the IGD, and control it for forwarding ports. The result will be cached for further use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>an optional callback function to be notified when the UPnP discovery is complete </td></tr>
    <tr><td class="paramname">cb_data</td><td>Extra data to be passed to the callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a80752da1dbd0157304d032b688b54dbc" name="a80752da1dbd0157304d032b688b54dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80752da1dbd0157304d032b688b54dbc">&#9670;&nbsp;</a></span>purple_upnp_get_public_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const gchar * purple_upnp_get_public_ip </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Gets the IP address from a UPnP enabled IGD that sits on the local network, so when getting the network IP, instead of returning the local network IP, the public IP is retrieved. This is a cached value from the time of the UPnP discovery.</p>
<dl class="section return"><dt>Returns</dt><dd>The IP address of the network, or NULL if something went wrong </dd></dl>

</div>
</div>
<a id="a7653636b1566c48d774ede5c76502454" name="a7653636b1566c48d774ede5c76502454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7653636b1566c48d774ede5c76502454">&#9670;&nbsp;</a></span>purple_upnp_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_upnp_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize UPnP </p>

</div>
</div>
<a id="a163fc71eb4f618a41f586b50671e35e7" name="a163fc71eb4f618a41f586b50671e35e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163fc71eb4f618a41f586b50671e35e7">&#9670;&nbsp;</a></span>purple_upnp_set_port_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__UPnPMappingAddRemove.html">UPnPMappingAddRemove</a> * purple_upnp_set_port_mapping </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>portmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PurpleUPnPCallback&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Maps Ports in a UPnP enabled IGD that sits on the local network to this purple client. Essentially, this function takes care of the port forwarding so things like file transfers can work behind NAT firewalls</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">portmap</td><td>The port to map to this client </td></tr>
    <tr><td class="paramname">protocol</td><td>The protocol to map, either "TCP" or "UDP" </td></tr>
    <tr><td class="paramname">cb</td><td>an optional callback function to be notified when the mapping addition is complete </td></tr>
    <tr><td class="paramname">cb_data</td><td>Extra data to be passed to the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data which can be passed to purple_upnp_port_mapping_cancel() to cancel </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
